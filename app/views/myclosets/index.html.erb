<%= render 'shared/nav' %>
<div class="contents-wrapper">
<div><%= link_to '選択した服を組み合わせる', root_path , method: :get, 'data-turbolinks': false, class: 'button'%></div>
  <div class="flex">
    <div class="search-forms">
      <input type="search" placeholder="カテゴリーから探す プルダウン">
      <input type="search" placeholder="ブランド名から探す">
    </div>
  </div>
  <div class="items">
    <% @my_clothes.each do |clothe| %>
      <div id="js-item-<%= clothe.id %>" class="item opacity">
        <span class="option-button js-edit-modal-open-<%=clothe.id%>">
        <%= link_to '...', edit_mycloset_path(clothe), remote: true %>
        </span>
        <%# 以下のspanがqiita記事 %>
        
        <div class="edit-modal js-edit-modal-<%=clothe.id%>">
          <div class="edit-modal-bg js-edit-modal-close-<%=clothe.id%>"></div>
          <div class="modal-content-<%=clothe.id%> modal-content">
            <%# modal-contentの中身 %>
          
            <%# qiita記事 %>
            <!--<div id="js-clothe-<%= clothe.id %>">
              <p id="js-clothe-label-<%= clothe.id %>"></p>
              <p id="js-clothe-post-error-<%= clothe.id %>" class="text-danger"></p>
              <textarea style="display: none;" id="js-textarea-clothe-<%= clothe.id %>" class="form-control clothe-post-error"><%= clothe.brand_name.name %></textarea>
              <div id="js-clothe-button-<%= clothe.id %>" style="display: none;">
                <button data-cancel-id=<%= clothe.id %> type="button" class="btn btn-light clothe-cancel-button">キャンセル</button>
                <button data-update-id=<%= clothe.id%> type="submit" class="btn btn-success clothe-update-button">更新</button>
              </div>
            </div>-->
            <%# // %>

             <%# <%= render 'edit_form', {brand_name: clothe.brand_name, clothes: clothe} %>

            
            <%# <%= link_to '更新する', mycloset_path(clothe.id), class:'button',method: :put %>
            <%= link_to '削除する', mycloset_path(clothe.id), class:'button', method: :delete, remote: true %>
            <a class="js-edit-modal-close-<%=clothe.id%>" href="">閉じる</a>


          </div>
        </div>
        <% if clothe.image.url%>
          <p class="item-img"><%= image_tag clothe.image.url %></p>
        <% end %>
        <div class="item-detail-wrapper">
          <div class="item-detail">
            <div style="font-size:1.4rem" id="brand-name-<%=clothe.id%>"><%= clothe.brand_name.name %></div>
            <div id="genre-<%=clothe.id%>">#<%= clothe.genre %></div>
          </div>
          <div class="item-select-button">
            <%= link_to '選択する',clothe_path(clothe, clothe: { selected: !clothe.selected }), class: "button",id: "js-change-selected-link-#{clothe.id}", remote: true, method: :patch%>
          </div>
        </div>
      </div> 
    <% end %>
  </div>
  <p id="js-selected-count" class="selected-count"></p>
  <%# <%= paginate @my_clothes %> 
</div>
<span class="add-button js-modal-open">+</span>
<div class="modal js-modal">
    <div class="modal-bg js-modal-close"></div>
    <div class="modal-content">
        <p>登録した画像はMyClosetに保存されます。</p>
        <%= render 'form', {brand_name: @brand_name, clothe: @clothe} %>
        <a class="js-modal-close mt5" href="">閉じる</a>
    </div>
</div>
<script>
$(function(){
  // modal
    $(".js-modal-open").on('click',function(){
        $('.js-modal').fadeIn();
        return false;
    });
    $(".js-modal-close").on('click',function(){
        $('.js-modal').fadeOut();
        return false;
    });
});



</script>
